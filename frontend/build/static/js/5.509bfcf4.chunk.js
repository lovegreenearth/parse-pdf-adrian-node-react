(this.webpackJsonpmcash=this.webpackJsonpmcash||[]).push([[5],{101:function(t,e,n){"use strict";function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return c}))},104:function(t,e,n){"use strict";function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return c}))},105:function(t,e,n){"use strict";function c(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function o(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}n.d(e,"a",(function(){return o}))},114:function(t,e,n){"use strict";function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return s}));var i=n(101);function r(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(i.a)(t):e}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return r(this,n)}}},115:function(t,e,n){"use strict";function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}n.d(e,"a",(function(){return o}))},231:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(104),i=n(105),r=n(101),s=n(115),a=n(114),u=n(0),l=n(21),d=n.n(l),f=n(22),b=function(t){Object(s.a)(n,t);var e=Object(a.a)(n);function n(t){var c;return Object(o.a)(this,n),(c=e.call(this,t)).state={file:null,uploaded:!1,fileId:null,text:"",id:null,bookRef:"",copied:!1,send:!1},c.onFormSubmit=c.onFormSubmit.bind(Object(r.a)(c)),c.onChange=c.onChange.bind(Object(r.a)(c)),c.proccess=c.proccess.bind(Object(r.a)(c)),c.refresh=c.refresh.bind(Object(r.a)(c)),c.copyLink=c.copyLink.bind(Object(r.a)(c)),c}return Object(i.a)(n,[{key:"componentDidMount",value:function(){localStorage.getItem("token")||(window.location.href="/signin")}},{key:"onFormSubmit",value:function(){var t=this,e=new FormData;e.append("pdf",this.state.file);d.a.post(f.a.BACKEND_URL+"/upload",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){t.setState({uploaded:!0,fileId:e.data.fileId})})).catch((function(t){}))}},{key:"onChange",value:function(t){this.setState({file:t.target.files[0]})}},{key:"proccess",value:function(){var t=this;this.state.fileId&&d.a.post(f.a.BACKEND_URL+"/processPDF/parse",{fileId:this.state.fileId}).then((function(e){t.setState({text:e.data.savedPdf.content,id:e.data.savedPdf._id,bookRef:e.data.savedPdf.bookRef})})).catch((function(t){}))}},{key:"refresh",value:function(){window.location.href="/"}},{key:"copyLink",value:function(){var t=document.createElement("input");t.setAttribute("value","http://81.181.160.210/read/"+this.state.id),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.setState({copied:!0})}},{key:"render",value:function(){var t=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"home-page",children:[Object(c.jsx)("div",{className:"upload-box",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Please upload the PDF file here."}),Object(c.jsx)("input",{type:"file",className:"custom-file-input",name:"pdf",onChange:this.onChange}),Object(c.jsx)("button",{className:"upload-button",onClick:function(){return t.onFormSubmit()},children:this.state.uploaded?"Uploaded":"Upload"})]})}),this.state.uploaded&&Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"process-button",onClick:function(){return t.proccess()},children:"Process"}),Object(c.jsx)("button",{className:"refresh-button",onClick:function(){return t.refresh()},children:"Refresh"})]}),""!=this.state.text&&Object(c.jsxs)("div",{className:"pdf-container",children:[Object(c.jsx)("div",{className:"pdf-text",dangerouslySetInnerHTML:{__html:this.state.text}}),Object(c.jsxs)("div",{className:"pdf-bottom",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"SC THUG-NET SRL"}),Object(c.jsx)("div",{children:"Reg. com: J40/5598/2005"}),Object(c.jsx)("div",{children:"CIF: RO17401198"}),Object(c.jsx)("div",{children:"office@mayatravel.ro"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Licenta de turism: 201/27.11.2018"}),Object(c.jsx)("div",{children:"Polita de asigurare: 57285/21.11.2022"}),Object(c.jsx)("div",{children:"Capital social: 25000 RON"})]})]}),Object(c.jsx)("div",{className:"pdf-back"})]}),""!=this.state.text&&Object(c.jsx)("div",{className:"actions",children:Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"copy-button",onClick:function(){return t.copyLink()},children:this.state.copied?"Copied":"Copy Link"})})})]}),this.state.loading&&Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("h1",{children:"Loading..."})})]})}}]),n}(u.Component);e.default=b}}]);
//# sourceMappingURL=5.509bfcf4.chunk.js.map