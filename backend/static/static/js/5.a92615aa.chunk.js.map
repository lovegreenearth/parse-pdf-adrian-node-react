{"version":3,"sources":["app/components/ui/Input.js","app/components/ui/Button.js","app/pages/Signin/index.js"],"names":["Input","props","className","type","name","placeholder","onChange","ev","target","value","Button","onClick","field","Signin","useState","email","setEmail","password","setPassword","setError","setUserData","useContext","UserContext","history","useHistory","submit","e","a","preventDefault","loginUser","Axios","post","contant","BACKEND_URL","loginRes","token","data","user","localStorage","setItem","role","push","response","msg","alert"],"mappings":"0GAQeA,IARD,SAACC,GACb,OACI,qBAAKC,UAAU,kBAAf,SACE,uBAAOC,KAAMF,EAAME,KAAMC,KAAMH,EAAMG,KAAMC,YAAaJ,EAAMI,YAAaC,SAAU,SAACC,GAAD,OAAQN,EAAMK,SAASC,EAAGC,OAAOC,c,2CCK/GC,IARA,SAACT,GACd,OACI,qBAAKC,UAAU,mBAAf,SACE,wBAAQS,QAAS,SAACJ,GAAD,OAAQN,EAAMU,QAAQJ,IAAvC,SAA6CN,EAAMW,Y,kJCgD5CC,UA3CA,WAAO,IAAD,EACOC,qBADP,mBACZC,EADY,KACLC,EADK,OAEaF,qBAFb,mBAEZG,EAFY,KAEFC,EAFE,OAGOJ,qBAHP,mBAGLK,GAHK,WAKXC,EAAgBC,qBAAWC,KAA3BF,YACFG,EAAUC,cAEVC,EAAM,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACbD,EAAEE,iBADW,SAGLC,EAAY,CAAEd,QAAOE,YAHhB,SAIYa,IAAMC,KAC3BC,IAAQC,YAAc,eACtBJ,GANS,OAILK,EAJK,OAQXd,EAAY,CACVe,MAAOD,EAASE,KAAKD,MACrBE,KAAMH,EAASE,KAAKC,OAEtBC,aAAaC,QAAQ,QAASL,EAASE,KAAKD,OAC5CG,aAAaC,QAAQ,OAAQL,EAASE,KAAKC,KAAKG,MAChDjB,EAAQkB,KAAK,KAdF,kDAgBX,KAAIC,SAASN,KAAKO,KAAOxB,EAAS,KAAIuB,SAASN,KAAKO,KACpDC,MAAM,KAAIF,SAASN,KAAKO,KAjBb,0DAAH,sDAqBZ,OACI,qBAAKzC,UAAU,cAAf,SACE,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,aAAf,oBACA,sBAAKA,UAAU,aAAf,UACE,cAAC,IAAD,CAAOE,KAAK,QAAQD,KAAK,QAAQE,YAAY,QAAQC,SAAUU,IAC/D,cAAC,IAAD,CAAOZ,KAAK,WAAWD,KAAK,WAAWE,YAAY,WAAWC,SAAUY,IACxE,cAAC,IAAD,CAAQN,MAAM,UAAUD,QAASc","file":"static/js/5.a92615aa.chunk.js","sourcesContent":["const Input = (props) => {\r\n  return (\r\n      <div className=\"input-component\">\r\n        <input type={props.type} name={props.name} placeholder={props.placeholder} onChange={(ev) => props.onChange(ev.target.value)} />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Input;","const Button = (props) => {\r\n  return (\r\n      <div className=\"button-component\">\r\n        <button onClick={(ev) => props.onClick(ev)}>{props.field}</button>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Button;","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport UserContext from '../../utils/UserContext';\r\nimport Input from '../../components/ui/Input';\r\nimport Button from '../../components/ui/Button';\r\nimport contant from '../../utils/constant';\r\n\r\nconst Signin = () => {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n  \r\n  const { setUserData } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const loginUser = { email, password };\r\n      const loginRes = await Axios.post(\r\n        contant.BACKEND_URL + \"/users/login\",\r\n        loginUser\r\n      );\r\n      setUserData({\r\n        token: loginRes.data.token,\r\n        user: loginRes.data.user,\r\n      });\r\n      localStorage.setItem(\"token\", loginRes.data.token);\r\n      localStorage.setItem(\"role\", loginRes.data.user.role);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n      alert(err.response.data.msg)\r\n    }\r\n  };\r\n\r\n  return (\r\n      <div className=\"signin-page\">\r\n        <div className=\"signin-form\">\r\n          <div className=\"page-title\">Log In</div>\r\n          <div className=\"form-group\">\r\n            <Input name=\"email\" type=\"email\" placeholder=\"Email\" onChange={setEmail} />\r\n            <Input name=\"password\" type=\"password\" placeholder=\"Password\" onChange={setPassword} />\r\n            <Button field=\"Sign In\" onClick={submit} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Signin;"],"sourceRoot":""}